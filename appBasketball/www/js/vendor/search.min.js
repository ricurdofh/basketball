var Search=function(searchbox_id,container_id,filter_class,enter_action){var container=document.getElementById(container_id);var children=container.getElementsByTagName("li");function get_sibling(mode,node){if(mode==="next"){var el=node.nextElementSibling}else{var el=node.previousElementSibling}if(el.className.indexOf("visible")==-1){return get_sibling(mode,el)}return el}for(var i=0;i<children.length;++i){children[i].className+=" visible"}children[children.length-1].className+=" last";document.getElementById(searchbox_id).onkeydown=function(e){if(e.keyCode==38||e.keyCode==40){e.preventDefault();if(typeof container.getElementsByClassName("active")[0]!="undefined"){var row=container.getElementsByClassName("active")[0];try{if(e.keyCode==38){var sibling=get_sibling("previous",row)}else{var sibling=get_sibling("next",row)}sibling.className+=" active";container.scrollTop=sibling.offsetTop}catch(e){console.log(e)}row.className=row.className.replace(/active/g,"");return}else if(e.keyCode==38){var rows=container.getElementsByClassName("visible");rows[rows.length-1].className+=" active";container.scrollTop=rows[rows.length-1].offsetTop}else if(e.keyCode==40){container.getElementsByClassName("visible")[0].className+=" active";container.scrollTop=0}return}if(e.keyCode==13&&typeof enter_action=="function"){e.preventDefault();try{enter_action(container.getElementsByClassName("active")[0])}catch(e){}return}};document.getElementById(searchbox_id).onkeyup=function(e){if(e.keyCode==9||e.keyCode==38||e.keyCode==40||e.keyCode==13){e.preventDefault();return}this.className=this.className.replace(/search--no-results/g,"");var value=this.value.toLowerCase();var visible=0;for(var i=0;i<children.length;++i){children[i].className=children[i].className.replace(/visible/g,"").replace(/last/g,"");if(children[i].getElementsByClassName(filter_class)[0].innerHTML.toLowerCase().indexOf(value)!=-1){children[i].className+=" visible";++visible}else{children[i].className=children[i].className.replace(/active/g,"")}}if(visible===0){this.className+=" search--no-results"}else{container.getElementsByClassName("visible")[visible-1].className+=" last"}}};